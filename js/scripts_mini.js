let promoSlides=document.querySelectorAll(".promo-slide"),promoButtons=document.querySelectorAll(".promo-slidenum-button"),promoPreviousSlide=document.querySelector(".promo-previous-button"),promoNextSlide=document.querySelector(".promo-next-button"),promoLength=promoSlides.length,promoCurrent=0,promoPrevious=1;if(0!==promoLength){function promoShowSlides(e){promoSlides[promoPrevious].classList.remove("promo-previous"),promoSlides[promoCurrent].classList.remove("promo-current"),promoButtons[promoCurrent].classList.remove("promo-current-button"),promoPrevious=promoCurrent,promoCurrent=e,promoSlides[promoPrevious].classList.add("promo-previous"),promoSlides[promoCurrent].classList.add("promo-current"),promoButtons[promoCurrent].classList.add("promo-current-button")}promoLength>promoButtons.length&&alert("Я сломался из-за того, что кнопок пагинации слайдов меньше, чем самих слайдов ( ͡° ͜ʖ ͡°)");for(let e=0;e<promoLength;e++)promoButtons[e].onclick=function(o){o.preventDefault(),promoShowSlides(e),promoSlides[promoPrevious].style.animation="slideshow-fadeout 0.4s",promoSlides[promoCurrent].style.animation="slideshow-fadein 0.4s"};promoPreviousSlide.onclick=function(e){e.preventDefault(),promoShowSlides(0==promoCurrent?promoLength-1:promoCurrent-1),promoSlides[promoPrevious].style.animation="slideshow-prev-remove 0.5s",promoSlides[promoCurrent].style.animation="slideshow-prev 0.5s"},promoNextSlide.onclick=function(e){e.preventDefault(),promoShowSlides(promoCurrent==promoLength-1?0:promoCurrent+1),promoSlides[promoPrevious].style.animation="slideshow-next-remove 0.5s",promoSlides[promoCurrent].style.animation="slideshow-next 0.5s"}}let servicesSlides=document.querySelectorAll(".service-info"),servicesLength=servicesSlides.length,servicesCurrent=0,servicesButtons=document.querySelectorAll(".services-button");if(0!==servicesLength){function servicesShowSlides(e){servicesSlides[servicesCurrent].classList.remove("current-service-info"),servicesButtons[servicesCurrent].classList.remove("current-service-button"),servicesSlides[e].classList.add("current-service-info"),servicesButtons[e].classList.add("current-service-button"),servicesCurrent=e}for(let e=0;e<servicesLength;e++)servicesButtons[e].onclick=function(o){o.preventDefault(),servicesShowSlides(e)}}let mapPopup=document.querySelector(".map-popup"),openMapPopupButton=document.querySelector(".open-map-popup"),closeMapPopup=document.querySelector(".map-popup-close-button");null!==mapPopup&&(openMapPopupButton.onclick=function(e){e.preventDefault(),mapPopup.classList.add("is-displayed"),setTimeout(function(){closeMapPopup.focus()},600)},closeMapPopup.onclick=function(e){e.preventDefault(),mapPopup.classList.remove("is-displayed")},window.addEventListener("keydown",function(e){27===e.keyCode&&mapPopup.classList.contains("is-displayed")&&(e.preventDefault(),mapPopup.classList.remove("is-displayed"))}));let writeUsPopup=document.querySelector(".write-us-popup"),writeUsForm=document.querySelector(".write-us-form"),writeUsButton=document.querySelector(".write-us-button"),closeWriteUsPopup=document.querySelector(".write-us-close-button"),writeUsNameField=document.querySelector(".write-us-login"),writeUsEmailField=document.querySelector(".write-us-email"),writeUsMessage=document.querySelector(".write-us-message"),hasStorageSupport=!0,storageName="",storageEmail="";if(null!==writeUsPopup){try{storageName=localStorage.getItem("name"),storageEmail=localStorage.getItem("email")}catch(e){hasStorageSupport=!1}writeUsButton.onclick=function(e){e.preventDefault(),writeUsPopup.classList.add("is-displayed"),storageName?(writeUsNameField.value=storageName,writeUsEmailField.value=storageEmail,setTimeout(function(){writeUsMessage.focus()},600)):setTimeout(function(){writeUsNameField.focus()},600)},closeWriteUsPopup.onclick=function(e){e.preventDefault(),writeUsPopup.classList.remove("is-displayed"),writeUsPopup.classList.remove("error-animation")},writeUsForm.addEventListener("submit",function(e){writeUsNameField.value&&writeUsEmailField.value&&writeUsMessage.value?hasStorageSupport&&(localStorage.setItem("name",writeUsNameField.value),localStorage.setItem("email",writeUsEmailField.value),writeUsPopup.classList.remove("error-animation")):(e.preventDefault(),writeUsPopup.classList.remove("error-animation"),writeUsPopup.offsetWidth=writeUsPopup.offsetWidth,writeUsPopup.classList.add("error-animation"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&writeUsPopup.classList.contains("is-displayed")&&(e.preventDefault(),writeUsPopup.classList.remove("is-displayed"),writeUsPopup.classList.remove("error-animation"))})}let addItemButtons=document.querySelectorAll(".add-item-button"),addedToBasket=document.querySelector(".added-to-basket-popup"),closeAddedToBasketButton=document.querySelector(".added-to-basket-close"),continuePurchaseButton=document.querySelector(".continue-purchase-button");if(null!=addItemButtons){function closeAddedToBasketPopup(){addedToBasket.classList.remove("is-displayed")}for(const e of addItemButtons)e.onclick=function(e){e.preventDefault(),addedToBasket.classList.add("is-displayed"),continuePurchaseButton.focus()};continuePurchaseButton.onclick=function(e){e.preventDefault(),closeAddedToBasketPopup()},closeAddedToBasketButton.onclick=function(e){e.preventDefault(),closeAddedToBasketPopup()},window.addEventListener("keydown",function(e){27===e.keyCode&&addedToBasket.classList.contains("is-displayed")&&(e.preventDefault(),addedToBasket.classList.remove("is-displayed"))})}